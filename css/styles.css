@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

body {
    font-family: 'Montserrat', sans-serif;
    background: #121212; /* Dark background */
    color: #f5f5f5; /* Light text */
    padding: 24px;
    font-size: 15px; /* smaller base */
}
/* Dynamic background (time & weather based) */
body::before {
    content:"";
    position:fixed; inset:0; z-index:-1;
    background: radial-gradient(circle at 50% 40%, #0b3a6b 0%, #051d31 60%, #031320 100%);
    transition: background 1.2s ease;
}
body.bg-day::before { background: linear-gradient(180deg,#57b1ff 0%, #1d5b99 55%, #0d2c4a 100%); }
body.bg-morning::before { background: linear-gradient(180deg,#ffe6a3 0%, #ffb347 45%, #1e3a5f 100%); }
body.bg-evening::before { background: linear-gradient(180deg,#1e2a4f 0%, #5b2e7e 50%, #110b24 100%); }
body.bg-night::before { background: radial-gradient(circle at 60% 35%, #0d1d33 0%, #081524 55%, #050d16 100%); }
body.bg-rain::before { background: linear-gradient(180deg,#3f5972 0%, #253647 60%, #111b25 100%); }
body.bg-snow::before { background: linear-gradient(180deg,#cfe9f9 0%, #85b8d6 50%, #27445a 100%); }

/* Remove previous background map styling */
.hidden-map { display:none; }

/* Reposition original layout when map is background */
body.has-bg-map .page { display: flex; justify-content: center; padding: 40px 28px; }
body.has-bg-map .container { max-width: 680px; }
@media (min-width: 900px) {
    body.has-bg-map .container { margin-left: 5%; }
}

/* Light theme modifier */
.theme-light {
    background: #f7f7f7;
    color: #0f172a;
}
.theme-light .container { background: #ffffff; border-color: #e5e7eb; }
.theme-light #locationInput { background: #ffffff; color: #0f172a; border-color: #e5e7eb; }
.theme-light .btn { background: #f8fafc; color: #0f172a; border-color: #e5e7eb; }
.theme-light .btn:hover { background: #eef2f7; }
.theme-light .chip { background: #f8fafc; color: #0f172a; border-color: #e5e7eb; }
.theme-light .extras > div, .theme-light .forecast-card { background: #ffffff; border-color: #e5e7eb; }
.theme-light .aqi-mod { background: #e5e7eb; color: #111827; }
.theme-light .leaflet-control.opacity-control { background: rgba(255,255,255,0.9); border-color: #e5e7eb; color: #0f172a; }
.theme-light .leaflet-bar.action-buttons a { background: #ffffff; color: #0f172a; border-color: #e5e7eb; }

.page { display: block; }

 .container {
    max-width: 720px;
    margin: 0 auto 28px;
    padding: 18px 22px 26px;
    background: rgba(14,25,41,0.50);
    border: 1px solid rgba(59,130,246,0.12);
    backdrop-filter: blur(18px) saturate(150%);
    border-radius: 16px;
    box-shadow: 0 6px 22px -6px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.025);
}
body.theme-light .container { background: rgba(255,255,255,0.7); border-color: rgba(37,99,235,0.25); }

/* Landscape removed: keep stacked, scrollable layout */

h1 { text-align: center; margin-bottom: 18px; font-size: 2.2em; }
.site-nav { margin:-4px 0 14px; }
.site-nav ul { list-style:none; padding:0; margin:0; display:flex; flex-wrap:wrap; gap:10px; }
.site-nav a { text-decoration:none; }
.mini-list { list-style:none; padding:0; margin:0; display:grid; gap:4px; }
.mini-list li { font-size:0.65rem; line-height:1.25; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); padding:4px 6px; border-radius:6px; }
.theme-light .mini-list li { background:#ffffff; border-color:#e5e7eb; }
.finance, .news { background: rgba(7,18,30,0.7); border:1px solid rgba(59,130,246,0.18); border-radius:14px; padding:14px 16px; }
.theme-light .finance, .theme-light .news { background:#ffffff; border-color:#e5e7eb; }

.search-container {
    display: grid;
    gap: 8px;
}
.input-wrapper {
    position: relative;
    display: flex;
}
#locationInput {
    flex: 1;
    padding: 10px 36px 10px 12px;
    border: 1px solid #2a2a2a;
    border-radius: 8px;
    background: rgba(7,18,30,0.85);
    color: #f5f5f5;
    transition: border-color 0.2s, box-shadow 0.2s;
}
#locationInput:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59,130,246,0.3);
}
.clear-button {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    display: none;
    color: #aaa;
}
.toolbar {
    display: flex;
    gap: 8px;
    align-items: center;
}
.toolbar .btn { transition: background 160ms ease, transform 80ms ease; }
.toolbar .btn:active { transform: translateY(1px); }
.status { min-height: 20px; font-size: 0.9em; color: #cfcfcf; }
.favorites { margin-top: 6px; }
.chips { display: flex; flex-wrap: wrap; gap: 6px; }
.chip { background: #171717; border: 1px solid #2a2a2a; color: #eaeaea; padding: 6px 10px; border-radius: 999px; cursor: pointer; font-size: 0.9em; }
.chip .x { margin-left: 6px; color: #bdbdbd; }
.btn {
    --glass-bg: rgba(255,255,255,0.07);
    --glass-border: rgba(255,255,255,0.18);
    --glass-hover: rgba(255,255,255,0.14);
    padding: 7px 14px;
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    background: var(--glass-bg);
    color: #e2f2ff;
    cursor: pointer;
    backdrop-filter: blur(10px) saturate(160%);
    -webkit-backdrop-filter: blur(10px) saturate(160%);
    transition: background 120ms ease, border-color 140ms ease, transform 90ms ease, box-shadow 140ms ease;
    box-shadow: 0 2px 6px -2px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.05) inset;
    font-size: 0.7rem; letter-spacing: .5px; font-weight:600; text-transform:uppercase;
}
.btn:hover { background: var(--glass-hover); border-color: rgba(255,255,255,0.32); box-shadow:0 4px 10px -3px rgba(0,0,0,0.6),0 0 0 1px rgba(255,255,255,0.08) inset; }
.btn:active { transform: translateY(1px); }
.btn.primary { background: linear-gradient(180deg, rgba(59,130,246,0.75), rgba(29,78,216,0.7)); border-color: rgba(96,165,250,0.55); box-shadow:0 3px 10px -3px rgba(29,78,216,0.65),0 0 0 1px rgba(255,255,255,0.06) inset; }
.btn.primary:hover { background: linear-gradient(180deg, rgba(96,165,250,0.85), rgba(29,78,216,0.8)); }
.btn.channel-btn { border-radius:999px; }
.btn.channel-btn.active { background: linear-gradient(180deg, rgba(96,165,250,0.85), rgba(29,78,216,0.85)); border-color: rgba(147,197,253,0.6); }
.theme-light .btn { --glass-bg: rgba(255,255,255,0.7); --glass-border:#e5e7eb; --glass-hover:#e2e8f0; color:#0f172a; }
.theme-light .btn.primary { color:#fff; }
/* Enhanced select (glass) */
select.btn.select-glass { position:relative; padding-right:36px !important; appearance:none; -webkit-appearance:none; background:var(--glass-bg); }
select.btn.select-glass:focus { outline:none; box-shadow:0 0 0 3px rgba(59,130,246,0.35); }
select.btn.select-glass option { background:#0f172a; color:#e2f2ff; }
body.theme-light select.btn.select-glass option { background:#ffffff; color:#0f172a; }
/* Select wrapper to show custom arrow hit area */
.select-wrap { position:relative; display:inline-block; }
.select-wrap::after { content:''; position:absolute; pointer-events:none; top:50%; right:14px; width:11px; height:11px; transform:translateY(-50%); background:linear-gradient(135deg,#93c5fd,#3b82f6); clip-path:polygon(50% 65%,0 25%,100% 25%); opacity:.9; filter:drop-shadow(0 1px 2px rgba(0,0,0,.5)); }
.theme-light .select-wrap::after { background:linear-gradient(135deg,#1d4ed8,#3b82f6); }
.unit-toggle { position: relative; display: inline-flex; align-items: center; user-select: none; white-space: nowrap; }
.unit-toggle input { position: absolute; opacity: 0; width: 0; height: 0; }
.unit-toggle .track {
    position: relative;
    width: 120px;
    height: 36px;
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 999px;
    display: block;
    padding: 2px;
    cursor: pointer;
}
.unit-toggle .labels {
    position: relative;
    z-index: 2;
    display: grid;
    grid-template-columns: 1fr 1fr;
    height: 100%;
    align-items: center;
    text-align: center;
    pointer-events: none;
}
.unit-toggle .labels span { font-size: 0.9em; color: #bdbdbd; }
.unit-toggle .thumb {
    position: absolute;
    top: 2px;
    left: 2px;
    width: calc(50% - 4px);
    height: calc(100% - 4px);
    background: linear-gradient(180deg,rgba(59,130,246,0.9),rgba(29,78,216,0.85));
    border-radius: 999px;
    transition: left 180ms ease, background 180ms ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    z-index: 1;
}
.unit-toggle input:focus + .track { box-shadow: 0 0 0 3px rgba(59,130,246,0.35); }
.unit-toggle input:checked + .track .thumb { left: calc(50% + 2px); background: #1d4ed8; }
.unit-toggle input:not(:checked) + .track .labels span:first-child { color: #fff; }
.unit-toggle input:checked + .track .labels span:last-child { color: #fff; }

/* Temp change animation */
#temperature { transition: opacity 160ms ease, transform 160ms ease; display: inline-block; }
.temp-fade { opacity: 0.3; transform: translateY(-2px); }

.weather-info { margin-top: 12px; }
.weather-info { display:flex; flex-direction:column; gap:10px; }
.weather-info h2 { margin:0 0 4px; }
.weather-info p { margin:0; }
.weather-info .metrics-grid { display:grid; gap:8px; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); }
.metric-box { background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.14); border-radius:10px; padding:6px 8px; font-size:0.72rem; line-height:1.15; letter-spacing:.25px; display:flex; flex-direction:column; gap:2px; position:relative; }
.metric-box strong { font-size:0.68rem; font-weight:600; text-transform:uppercase; opacity:.75; letter-spacing:.5px; }
.metric-box.primary { background:rgba(59,130,246,0.18); border-color:rgba(96,165,250,0.35); font-size:0.85rem; }
.metric-box.primary strong { opacity:.9; }
/* Skeleton loading */
.weather-info.loading .metric-box .value:empty::after,
#forecastGrid.loading::after {
    content:"";
    display:block;
    width:100%;
    height:12px;
    border-radius:6px;
    background:linear-gradient(90deg,rgba(255,255,255,0.05),rgba(255,255,255,0.18),rgba(255,255,255,0.05));
    background-size:220% 100%;
    animation:skeleton 1.2s linear infinite;
}
@keyframes skeleton { 0%{background-position:0 0;} 100%{background-position: -200% 0;} }
/* Forecast skeleton overlay */
#forecastGrid.loading { position:relative; }
#forecastGrid.loading::after { position:absolute; inset:0; height:100%; }

.forecast { margin-top: 16px; }
.hourly { margin-top: 16px; }
.hourly-chart {
    background: rgba(7,18,30,0.7);
    border: 1px solid rgba(59,130,246,0.2);
    border-radius: 14px;
    padding: 10px 12px 16px;
    box-shadow: 0 4px 14px -4px rgba(0,0,0,0.5) inset;
}
.theme-light .hourly-chart { background: #ffffff; border-color: #e5e7eb; }
.extras { margin-top: 16px; display: grid; gap: 12px; }
.extras > div { background: rgba(7,18,30,0.7); border: 1px solid rgba(59,130,246,0.18); border-radius: 14px; padding: 14px 16px; }
.aqi-badge { display: inline-block; padding: 6px 10px; border-radius: 999px; font-weight: 700; }
.aqi-good { background: #14532d; color: #a7f3d0; }
.aqi-mod { background: #4b5563; color: #e5e7eb; }
.aqi-bad { background: #7f1d1d; color: #fecaca; }
.forecast-grid {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 8px;
}
.forecast-card {
    background: linear-gradient(180deg, rgba(11,34,56,0.9), rgba(5,17,28,0.9));
    border: 1px solid rgba(59,130,246,0.25);
    border-radius: 10px;
    padding: 10px 8px;
    text-align: center;
    box-shadow: 0 4px 16px -6px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.03);
}
.forecast-card .boxes { display:grid; gap:5px; margin-top:4px; }
.forecast-card .box { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); border-radius:6px; padding:4px 5px; font-size:0.68rem; line-height:1.1; letter-spacing:.25px; }
.forecast-card .box.temp-box { font-size:0.82rem; font-weight:600; background:rgba(59,130,246,0.18); border-color:rgba(96,165,250,0.35); }
.forecast-card .box.minmax-box { font-size:0.62rem; opacity:0.9; }
.forecast-card .box.pop-box { font-size:0.58rem; background:rgba(255,255,255,0.08); }
.forecast-card img { filter:drop-shadow(0 4px 6px rgba(0,0,0,0.4)); }
.forecast-card .day { font-weight: 700; margin-bottom: 6px; }
.forecast-card .temp { font-size: 1.1em; }
.forecast-card .desc { color: #cfcfcf; font-size: 0.9em; }
.forecast-card .minmax { color: #bdbdbd; font-size: 0.85em; margin-top: 4px; }
.wind { display: inline-flex; align-items: center; gap: 6px; }
.wind .arrow { display: inline-block; transform-origin: 50% 50%; }
.wind-flow { position: relative; display: inline-block; margin-left: 6px; }
.wind-flow canvas { display: block; filter: drop-shadow(0 0 2px rgba(37,99,235,0.5)); }

#map { border-radius: 10px; overflow: hidden; }
/* Map panel (restored) */
#map { width:100%; height:420px; margin-top:22px; background:#0f172a; border:1px solid rgba(59,130,246,0.18); box-shadow:0 3px 12px -3px rgba(0,0,0,0.55); border-radius:14px; }
@media (min-width: 1024px) { #map { height: 560px; } }

/* Wind map overlay removed */

/* Fallback if Leaflet not loaded */
.map-background.loading::after { content:'Loading mapâ€¦'; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:#bbb; font-size:14px; letter-spacing:1px; }
.map-background.error::after { content:'Map failed'; color:#f87171; }

/* Custom Leaflet controls tweaks */
.leaflet-control.opacity-control {
    background: rgba(7,18,30,0.85);
    border: 1px solid rgba(59,130,246,0.3);
    border-radius: 10px;
    padding: 8px 10px 10px;
    color: #eaf3ff;
    box-shadow:0 2px 8px -2px rgba(0,0,0,0.6);
}
.leaflet-bar.action-buttons a {
    background: rgba(7,18,30,0.85);
    color: #eaf3ff;
    border: 1px solid rgba(59,130,246,0.35);
}
.leaflet-bar.action-buttons a:hover { background: rgba(17,45,78,0.9); }

/* Pulsing map marker */
.pulse-wrapper { pointer-events: none; }
.pulse-marker {
    width: 18px; height: 18px; border-radius: 999px; background: rgba(37,99,235,0.45);
    position: relative; transform: translate(-1px, -1px);
}
.pulse-marker::after {
    content: '';
    position: absolute; inset: -6px; border-radius: 999px;
    border: 2px solid rgba(37,99,235,0.6);
    animation: pulse 1.8s ease-out infinite;
}
@keyframes pulse {
    0% { transform: scale(0.7); opacity: 0.8; }
    70% { transform: scale(1.6); opacity: 0.05; }
    100% { transform: scale(1.6); opacity: 0; }
}

/* Playback control */
.leaflet-bar.playback a { background: rgba(7,18,30,0.85); color: #eaf3ff; border: 1px solid rgba(59,130,246,0.35); }
.leaflet-bar.playback a:hover { background: rgba(17,45,78,0.9); }
.theme-light .leaflet-bar.playback a { background: #ffffff; color: #0f172a; border-color: #e5e7eb; }

/* Legend control */
.legend-control { 
.channel-switch { display:flex; gap:8px; flex-wrap:wrap; margin:4px 0 14px; }
.channel { animation: fadeChannel .25s ease; }
@keyframes fadeChannel { from { opacity:0; transform:translateY(4px); } to { opacity:1; transform:translateY(0); } }
.panel-grid { display:grid; gap:16px; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); margin-top:12px; }
.panel.glass { background:rgba(14,25,41,0.55); border:1px solid rgba(59,130,246,0.18); border-radius:16px; padding:14px 16px; backdrop-filter:blur(14px) saturate(150%); box-shadow:0 4px 14px -4px rgba(0,0,0,0.6),0 0 0 1px rgba(255,255,255,0.04); }
.theme-light .panel.glass { background:rgba(255,255,255,0.8); border-color:#e5e7eb; }
.visually-hidden { position:absolute !important; height:1px; width:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
    background: rgba(7,18,30,0.78); 
    border:1px solid rgba(59,130,246,0.35); 
    border-radius:14px; 
    padding:10px 12px 12px; 
    font-size:10px; 
    line-height:1.15; 
    color:#eaf3ff; 
    min-width:170px; 
    max-width:200px;
    box-shadow:0 4px 18px -6px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.05);
    backdrop-filter: blur(6px) saturate(150%);
}
.theme-light .legend-control { background:#ffffff; color:#0f172a; border-color:#e5e7eb; }
.legend-control .legend-header { display:flex; justify-content:space-between; align-items:center; font-weight:600; margin-bottom:6px; }
.legend-control .legend-toggle { background:none; border:none; color:inherit; cursor:pointer; font-size:14px; line-height:1; padding:2px 6px; border-radius:6px; }
.legend-control .legend-toggle:hover { background:rgba(255,255,255,0.08); }
.theme-light .legend-control .legend-toggle:hover { background:rgba(0,0,0,0.06); }
.legend-control .legend-item { display:flex; flex-direction:column; align-items:flex-start; gap:2px; padding:4px 0 6px; opacity:.6; transition:opacity .25s, filter .25s; width:100%; }
.legend-control .legend-item.active { filter: drop-shadow(0 0 4px rgba(59,130,246,0.35)); opacity:.95; }
.legend-control .legend-item .label { font-weight:600; font-size:10px; letter-spacing:.55px; text-transform:uppercase; line-height:1.1; }
.legend-control .legend-item .bar { width:100%; height:8px; border-radius:4px; background:#555; position:relative; overflow:hidden; box-shadow:0 0 0 1px rgba(255,255,255,0.08) inset; }
.legend-control .legend-item .scale { font-size:9px; opacity:.65; letter-spacing:.3px; }
.legend-control .legend-item .bar.precip { background:linear-gradient(90deg,#0d47a1,#1976d2,#64b5f6); }
.legend-control .legend-item .bar.wind { background:linear-gradient(90deg,#1e3a8a,#2563eb,#60a5fa); }
.legend-control .legend-item .bar.clouds { background:linear-gradient(90deg,#334155,#64748b,#cbd5e1); }
.legend-control .legend-item .bar.temp { background:linear-gradient(90deg,#3b82f6,#16a34a,#facc15,#f97316,#dc2626); }
.legend-control .legend-item .bar.pressure { background:linear-gradient(90deg,#4338ca,#6366f1,#a78bfa); }
.legend-control .hint { margin-top:6px; font-size:9px; opacity:.6; }

/* Sports block */
.sports { background: rgba(7,18,30,0.7); border:1px solid rgba(59,130,246,0.18); border-radius:14px; padding:14px 16px; }
.theme-light .sports { background:#ffffff; border-color:#e5e7eb; }
.sports #sportsScore { font-weight:600; margin-bottom:4px; }
.sports-details { font-size:0.65rem; opacity:0.75; line-height:1.2; }

/* Sunrise/Sunset track */
.sun-track { margin-top: 8px; }
.sun-rail {
    position: relative; height: 8px; background: #222; border-radius: 999px; overflow: visible;
}
.sun-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #f59e0b, #f97316); border-radius: 999px; transition: width 400ms ease; }
.sun-dot {
    position: absolute; top: 50%; transform: translate(-50%, -50%);
    width: 24px; height: 24px; border-radius: 999px; display: grid; place-items: center;
    background: #f59e0b; color: #111; font-size: 12px; box-shadow: 0 0 12px rgba(245,158,11,0.6);
    transition: left 400ms ease;
}
.theme-light .sun-rail { background: #e5e7eb; }

@media (max-width: 640px) {
    .forecast-grid { grid-template-columns: repeat(2, 1fr); }
    body { font-size:14px; }
    h1 { font-size:1.9em; }
    .metric-box { font-size:0.68rem; }
    .metric-box.primary { font-size:0.78rem; }
    .forecast-card .box { font-size:0.64rem; }
    .forecast-card .box.temp-box { font-size:0.76rem; }
    .legend-control { font-size:9px; min-width:150px; }
}

@media (max-width: 420px) {
    body { font-size:13px; padding:18px; }
    h1 { font-size:1.65em; }
    .metric-box { padding:5px 6px; font-size:0.63rem; }
    .metric-box.primary { font-size:0.72rem; }
    .forecast-card { padding:8px 6px; }
    .forecast-card .box { font-size:0.6rem; }
    .forecast-card .box.temp-box { font-size:0.7rem; }
}

/* Landscape layout on wider screens */
@media (min-width: 1024px) {
    .page {
        display: grid;
        grid-template-columns: 1.1fr 1fr;
        gap: 20px;
        align-items: start;
    }
    .container {
        max-width: 100%;
        margin: 0; /* let grid control spacing */
    }
    .map-panel {
        position: sticky;
        top: 16px;
        align-self: start;
    }
    /* Override inline height for desktop layout */
    .map-panel #map {
        height: min(70vh, 680px) !important;
    }
}

/* News enhancements */
.news-section { margin-top:24px; }
.news-graph { margin:18px 0 10px; }
.news-graph .chart-holder { width:100%; height:160px; position:relative; }
.news-graph canvas { width:100%; height:100%; display:block; }
.news-link { color:#93c5fd; text-decoration:none; }
.news-link:hover { text-decoration:underline; }
.news-item { font-size:.66rem; }
.news-item .title-line { font-weight:500; line-height:1.3; display:flex; flex-wrap:wrap; gap:4px; align-items:center; }
.news-item .meta-line { font-size:.52rem; opacity:.65; display:flex; gap:10px; flex-wrap:wrap; margin-top:2px; }
.cat-tag { display:inline-block; background:linear-gradient(135deg,rgba(59,130,246,.5),rgba(29,78,216,.55)); padding:2px 6px; border-radius:6px; font-size:.55rem; letter-spacing:.5px; text-transform:uppercase; font-weight:600; color:#e2f2ff; }
body.theme-light .cat-tag { background:linear-gradient(135deg,#60a5fa,#2563eb); color:#fff; }
.controls-row { display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin:6px 0 14px; }
.input-glass { --glass-bg: rgba(255,255,255,0.07); --glass-border: rgba(255,255,255,0.18); background:var(--glass-bg); border:1px solid var(--glass-border); border-radius:12px; padding:7px 12px; color:#e2f2ff; backdrop-filter: blur(10px) saturate(160%); font-size:.65rem; }
.input-glass:focus { outline:none; box-shadow:0 0 0 3px rgba(59,130,246,.35); }
body.theme-light .input-glass { --glass-bg:rgba(255,255,255,0.7); --glass-border:#e5e7eb; color:#0f172a; }

/* Finance dashboard refinements */
.finance-dash .page-title { margin-bottom:14px; }
.finance-dash .section-heading { margin:6px 0 14px; font-size:1.05rem; }
.form-inline { display:flex; flex-wrap:wrap; gap:6px; align-items:center; margin-bottom:8px; }
.symbol-input { min-width:140px; }
.search-wrap { position:relative; }
.search-results { position:absolute; top:100%; left:0; z-index:40; min-width:220px; background:rgba(15,23,42,0.95); border:1px solid rgba(255,255,255,0.12); border-radius:10px; backdrop-filter:blur(10px) saturate(150%); box-shadow:0 6px 18px -6px rgba(0,0,0,0.6); max-height:260px; overflow:auto; }
.search-item { padding:6px 10px; font-size:.55rem; cursor:pointer; border-bottom:1px solid rgba(255,255,255,0.06); }
.search-item:last-child { border-bottom:0; }
.search-item:hover { background:rgba(255,255,255,0.08); }
.meta-bar { font-size:.55rem; display:flex; gap:14px; flex-wrap:wrap; align-items:center; min-height:22px; }
.spark-wrap { margin:4px 0 0; }
.spark-canvas { width:100%; max-width:400px; border:1px solid rgba(255,255,255,0.12); border-radius:8px; background:rgba(255,255,255,0.04); }
.spark-meta { font-size:.5rem; opacity:.65; margin-top:2px; display:flex; gap:12px; flex-wrap:wrap; }
.meta-line { font-size:.5rem; opacity:.65; margin-top:6px; display:flex; gap:14px; flex-wrap:wrap; align-items:center; }
.status-accent { color:#93c5fd; }
.panel-head { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:6px; }
.panel-title { margin:0; font-size:.7rem; display:flex; gap:6px; align-items:center; }
.subtle { opacity:.6; font-weight:400; }
.trending-list { margin-top:6px; display:flex; flex-wrap:wrap; gap:6px; font-size:.55rem; min-height:20px; }
.summary-grid { font-size:.55rem; display:grid; gap:8px; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); }
.summary-grid > div { padding:8px 10px; border:1px solid rgba(255,255,255,0.12); border-radius:10px; background:rgba(255,255,255,0.04); display:flex; flex-direction:column; gap:2px; }
.summary-status { font-size:.5rem; opacity:.6; margin-top:6px; }
.panel-candles { margin-top:4px; }
.candles-canvas { width:100%; max-width:860px; border:1px solid rgba(255,255,255,0.12); border-radius:10px; background:rgba(255,255,255,0.04); }
.daily-meta { font-size:.55rem; opacity:.7; margin-top:4px; display:flex; gap:12px; flex-wrap:wrap; }
.range-buttons { display:flex; gap:4px; flex-wrap:wrap; }
.range-buttons .btn { font-size:.5rem; }
.range-buttons .btn.active { box-shadow:0 0 0 1px rgba(255,255,255,0.4) inset; }
.label-inline { display:flex; align-items:center; gap:4px; cursor:pointer; opacity:.8; }
.label-inline input { margin:0; }
/* Font-size utilities */
.fs-xxs { font-size:.5rem !important; }
.fs-xs { font-size:.55rem !important; }
.fs-s { font-size:.6rem !important; }

